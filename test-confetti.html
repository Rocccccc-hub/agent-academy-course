<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¤¼èŠ±åŠ¨ç”»æµ‹è¯•</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #0d1117;
            color: #e6edf3;
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }
        button {
            padding: 12px 32px;
            background: #3fb950;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        button:hover {
            background: #56d364;
            transform: scale(1.05);
        }
        h1 {
            margin-bottom: 20px;
        }
        p {
            color: #b1bac4;
            margin-bottom: 30px;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>ğŸ‰ ç¤¼èŠ±åŠ¨ç”»æµ‹è¯•</h1>
    <p>ç‚¹å‡»æŒ‰é’®æŸ¥çœ‹å®Œæˆæ‰€æœ‰è¯¾ç¨‹åçš„åº†ç¥æ•ˆæœ</p>
    <button onclick="playConfettiAnimation()">è§¦å‘ç¤¼èŠ±åŠ¨ç”»</button>

    <script>
        let currentLanguage = 'zh'; // å¯æ”¹ä¸º 'en' æµ‹è¯•è‹±æ–‡

        function playConfettiAnimation() {
            // åˆ›å»ºå…¨å±é®ç½©
            const overlay = document.createElement('div');
            overlay.id = 'confetti-overlay';
            overlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background: rgba(13, 17, 23, 0.95);
                z-index: 9999;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                animation: fadeIn 0.3s ease;
            `;

            // åˆ›å»º canvas
            const canvas = document.createElement('canvas');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            canvas.style.cssText = `
                position: absolute;
                top: 0;
                left: 0;
                pointer-events: none;
            `;

            // ç¥è´ºæ–‡å­—
            const message = document.createElement('div');
            message.style.cssText = `
                z-index: 10000;
                text-align: center;
                color: #e6edf3;
                animation: scaleIn 0.5s ease 0.3s both;
            `;
            message.innerHTML = `
                <div style="font-size: 4rem; margin-bottom: 1rem;">ğŸ‰</div>
                <h1 style="font-size: 2.5rem; font-weight: bold; margin-bottom: 1rem; color: #3fb950;">
                    ${currentLanguage === 'zh' ? 'æ­å–œå®Œæˆï¼' : 'Congratulations!'}
                </h1>
                <p style="font-size: 1.2rem; color: #b1bac4; margin-bottom: 2rem;">
                    ${currentLanguage === 'zh'
                        ? 'ä½ å·²å®Œæˆ Agent Academy å…¨éƒ¨ 8 å¤©è¯¾ç¨‹ï¼'
                        : 'You have completed all 8 days of Agent Academy!'}
                </p>
                <button id="close-confetti" style="
                    padding: 12px 32px;
                    background: #3fb950;
                    color: white;
                    border: none;
                    border-radius: 8px;
                    font-size: 1rem;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.2s;
                " onmouseover="this.style.background='#56d364'" onmouseout="this.style.background='#3fb950'">
                    ${currentLanguage === 'zh' ? 'å¤ªæ£’äº†ï¼' : 'Awesome!'}
                </button>
            `;

            overlay.appendChild(canvas);
            overlay.appendChild(message);
            document.body.appendChild(overlay);

            // ç¤¼èŠ±ç²’å­ç³»ç»Ÿ
            const ctx = canvas.getContext('2d');
            const particles = [];
            const particleCount = 150;
            const colors = ['#3fb950', '#58a6ff', '#f778ba', '#ffa657', '#bc8cff'];

            // åˆ›å»ºç²’å­
            for (let i = 0; i < particleCount; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height - canvas.height,
                    vx: (Math.random() - 0.5) * 8,
                    vy: Math.random() * 3 + 2,
                    radius: Math.random() * 4 + 2,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    opacity: 1,
                    gravity: 0.15,
                    friction: 0.99
                });
            }

            // åŠ¨ç”»å¾ªç¯
            let animationId;
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                particles.forEach((p, index) => {
                    // æ›´æ–°ä½ç½®
                    p.vy += p.gravity;
                    p.vx *= p.friction;
                    p.x += p.vx;
                    p.y += p.vy;

                    // æ·¡å‡º
                    if (p.y > canvas.height * 0.8) {
                        p.opacity -= 0.02;
                    }

                    // ç»˜åˆ¶ç²’å­
                    ctx.globalAlpha = p.opacity;
                    ctx.fillStyle = p.color;
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                    ctx.fill();

                    // ç§»é™¤æ¶ˆå¤±çš„ç²’å­
                    if (p.opacity <= 0) {
                        particles.splice(index, 1);
                    }
                });

                // æŒç»­å‘å°„æ–°ç²’å­ï¼ˆå‰3ç§’ï¼‰
                if (particles.length < particleCount && Date.now() - startTime < 3000) {
                    for (let i = 0; i < 5; i++) {
                        particles.push({
                            x: Math.random() * canvas.width,
                            y: -20,
                            vx: (Math.random() - 0.5) * 8,
                            vy: Math.random() * 3 + 2,
                            radius: Math.random() * 4 + 2,
                            color: colors[Math.floor(Math.random() * colors.length)],
                            opacity: 1,
                            gravity: 0.15,
                            friction: 0.99
                        });
                    }
                }

                if (particles.length > 0) {
                    animationId = requestAnimationFrame(animate);
                }
            }

            const startTime = Date.now();
            animate();

            // å…³é—­æŒ‰é’®
            document.getElementById('close-confetti').addEventListener('click', () => {
                cancelAnimationFrame(animationId);
                overlay.style.animation = 'fadeOut 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(overlay);
                }, 300);
            });

            // æ·»åŠ  CSS åŠ¨ç”»
            if (!document.getElementById('confetti-styles')) {
                const style = document.createElement('style');
                style.id = 'confetti-styles';
                style.textContent = `
                    @keyframes fadeIn {
                        from { opacity: 0; }
                        to { opacity: 1; }
                    }
                    @keyframes fadeOut {
                        from { opacity: 1; }
                        to { opacity: 0; }
                    }
                    @keyframes scaleIn {
                        from {
                            transform: scale(0.5);
                            opacity: 0;
                        }
                        to {
                            transform: scale(1);
                            opacity: 1;
                        }
                    }
                `;
                document.head.appendChild(style);
            }
        }
    </script>
</body>
</html>
